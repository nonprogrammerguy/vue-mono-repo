<!-- https://sfc.vuejs.org/#eyJBcHAudnVlIjoiPHNjcmlwdCBzZXR1cD5cbmltcG9ydCB7IHJlZiwgY29tcHV0ZWQgfSBmcm9tICd2dWUnXG5cbmNvbnN0IGhlYWRlciA9IHJlZignU2FudGEgTWVzYSBXYXJyaW9ycycpXG5cbmNvbnN0IHBsYXllcnMgPSByZWYoW1xuICB7aWQ6IDMwLCBuYW1lOiAnU3RlcGhlbiBDdXJyeScsIGlzRHJhZnRlZDogdHJ1ZSwgaXNQcmlvcml0eTogdHJ1ZX0sXG4gIHtpZDogMTEsIG5hbWU6ICdLbGF5IFRob21wc29uJywgaXNEcmFmdGVkOiB0cnVlLCBpc1ByaW9yaXR5OiB0cnVlfSxcbiAge2lkOiAzLCBuYW1lOiAnSm9yZGFuIFBvb2xlJywgaXNEcmFmdGVkOiB0cnVlLCBpc1ByaW9yaXR5OiB0cnVlfSxcbiAge2lkOiAyMiwgbmFtZTogJ0FuZHJldyBXaWdnaW5zJywgaXNEcmFmdGVkOiBmYWxzZSwgaXNQcmlvcml0eTogdHJ1ZX0sXG4gIHtpZDogMjMsIG5hbWU6ICdEcmF5bW9uZCBHcmVlbicsIGlzRHJhZnRlZDogdHJ1ZSwgaXNQcmlvcml0eTogdHJ1ZX0sXG4gIHtpZDogMzMsIG5hbWU6ICdKYW1lcyBXaXNlbWFuJywgaXNEcmFmdGVkOiBmYWxzZSwgaXNQcmlvcml0eTogZmFsc2V9LFxuXSk7XG4gIGNvbnN0IG5ld1BsYXllciA9IHJlZignJyk7XG4gIGNvbnN0IGlzUHJpb3JpdHkgPSByZWYoZmFsc2UpO1xuICBjb25zdCBlZGl0aW5nID0gcmVmKGZhbHNlKTtcbiAgY29uc3Qgc2F2ZVBsYXllciA9ICgpID0+IHtcbiAgICBwbGF5ZXJzLnZhbHVlLnB1c2goe1xuICAgICAgaWQ6IHBsYXllcnMudmFsdWUubGVuZ3RoICsgMSwgXG4gICAgICBuYW1lOiBuZXdQbGF5ZXIudmFsdWUsXG4gICAgICBpc1ByaW9yaXR5OiBpc1ByaW9yaXR5LnZhbHVlLFxuICAgICAgaXNEcmFmdGVkOiB0cnVlLFxuICAgIH0pXG4gICAgbmV3UGxheWVyLnZhbHVlID0gJyc7XG4gICAgaXNQcmlvcml0eS52YWx1ZSA9ICcnO1xuICB9XG4gIGNvbnN0IGRvRWRpdCA9IChlKSA9PiB7XG4gICAgZWRpdGluZy52YWx1ZSA9IGU7XG4gICAgbmV3UGxheWVyLnZhbHVlID0gXCJcIjtcbiAgfVxuICBcbiAgY29uc3QgdG9nZ2xlRHJhZnRlZCA9IChpdGVtKSA9PiB7XG4gICAgaXRlbS5pc0RyYWZ0ZWQgPSAhaXRlbS5pc0RyYWZ0ZWQ7XG4gIH1cbiAgXG4gIGNvbnN0IGNoYXJhY3RlckNvdW50ID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiBuZXdQbGF5ZXIudmFsdWUubGVuZ3RoO1xuICB9KTtcbiAgXG4gIGNvbnN0IHJldmVyc2VkUGxheWVycyA9IGNvbXB1dGVkKCgpID0+IFsuLi5wbGF5ZXJzLnZhbHVlXS5yZXZlcnNlKCkpO1xuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICA8aDE+e3sgaGVhZGVyIH19PC9oMT5cbiAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1jYW5jZWxcIiB2LWlmPVwiZWRpdGluZ1wiIEBjbGljaz1cImRvRWRpdChmYWxzZSlcIj5cbiAgICAgIENhbmNlbFxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiB2LWVsc2UgQGNsaWNrPVwiZG9FZGl0KHRydWUpXCI+XG4gICAgICBBZGQgSXRlbVxuICAgIDwvYnV0dG9uPlxuICA8L2Rpdj5cblxuICA8Zm9ybSB2LWlmPVwiZWRpdGluZ1wiIGNsYXNzPVwiYWRkLWl0ZW0tZm9ybVwiIEBzdWJtaXQucHJldmVudD1cInNhdmVQbGF5ZXJcIj4gXG4gICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJBZGQgYSBQbGF5ZXJcIiB2LW1vZGVsLnRyaW09XCJuZXdQbGF5ZXJcIj5cbiAgICA8cCBjbGFzcz1cImNvdW50ZXJcIj5cbiAgICAgIHt7Y2hhcmFjdGVyQ291bnR9fSAvIDIwMFxuICAgIDwvcD5cbiAgICA8bGFiZWw+XG4gICAgXHQ8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgdi1tb2RlbD1cImlzUHJpb3JpdHlcIiBAa2V5dXAuZW50ZXI+XG5cdFx0XHRIaWdoIFByaW9yaXR5XG4gICAgPC9sYWJlbD5cbiAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgOmRpc2FibGVkPVwibmV3UGxheWVyLmxlbmd0aCA8IDVcIj5cbiAgICBcdFNhdmUgUGxheWVyXG4gICAgPC9idXR0b24+XG4gIDwvZm9ybT5cbiAgPHAgdi1pZj1cInBsYXllcnMubGVuZ3RoID09PSAwXCI+XG4gICAgTm9wZVxuICA8L3A+XG4gIDx1bCB2LWVsc2U+XG4gICAgPGxpIFxuICAgICAgICBAY2xpY2s9XCJ0b2dnbGVEcmFmdGVkKHJldmVyc2VkUGxheWVyc1tpZHhdKVwiXG4gICAgICAgIHYtZm9yPVwiKHtpZCwgbmFtZSwgaXNEcmFmdGVkLCBpc1ByaW9yaXR5fSwgaWR4KSBpbiByZXZlcnNlZFBsYXllcnNcIiBcbiAgICAgICAgdi1iaW5kOmNsYXNzPVwiW1xuICAgICAgICAgICB7c3RyaWtlb3V0OiAhaXNEcmFmdGVkfSwgXG4gICAgICAgICAgIHtwcmlvcml0eTogaXNQcmlvcml0eX0sXG4gICAgICAgIF1cIlxuICAgICAgICA6a2V5PVwiaWRcIlxuICAgICAgICA+XG4gICAgICB7e2lkeH19XG4gICAgICB7e25hbWV9fVxuICAgIDwvbGk+XG4gIDwvdWw+XG48L3RlbXBsYXRlPiIsImltcG9ydC1tYXAuanNvbiI6IntcbiAgXCJpbXBvcnRzXCI6IHtcbiAgICBcInZ1ZVwiOiBcImh0dHBzOi8vc2ZjLnZ1ZWpzLm9yZy92dWUucnVudGltZS5lc20tYnJvd3Nlci5qc1wiLFxuICAgIFwidnVlL3NlcnZlci1yZW5kZXJlclwiOiBcImh0dHBzOi8vc2ZjLnZ1ZWpzLm9yZy9zZXJ2ZXItcmVuZGVyZXIuZXNtLWJyb3dzZXIuanNcIlxuICB9XG59IiwibWFpbi5jc3MiOiJib2R5IHtcbiAgICBiYWNrZ3JvdW5kOiAjZWZmOGZmO1xuICAgIGhlaWdodDogMTAwdmg7XG4gICAgd2lkdGg6IDEwMHZ3O1xuICAgIGZvbnQtZmFtaWx5OiBzeXN0ZW0tdWksIEJsaW5rTWFjU3lzdGVtRm9udCwgLWFwcGxlLXN5c3RlbSwgU2Vnb2UgVUksIFJvYm90byxcbiAgICAgIE94eWdlbiwgVWJ1bnR1LCBDYW50YXJlbGwsIEZpcmEgU2FucywgRHJvaWQgU2FucywgSGVsdmV0aWNhIE5ldWUsIHNhbnMtc2VyaWY7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xuICB9XG4gIFxuICAuY291bnRlciB7XG4gICAgZm9udC1zaXplOiAwLjhyZW07XG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG4gIH1cbiAgXG4gICNhcHAge1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgcGFkZGluZzogMnJlbTtcbiAgICBtYXJnaW46IDFyZW07XG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCAwIHJnYmEoMCwgMCwgMCwgMC4xMiksIDAgMnB4IDRweCAwIHJnYmEoMCwgMCwgMCwgMC4wOCk7XG4gICAgd2lkdGg6IDk1JTtcbiAgICBtYXgtd2lkdGg6IDkwMHB4O1xuICB9XG4gIFxuICBoMSB7XG4gICAgY29sb3I6ICMzZDQ4NTI7XG4gIH1cbiAgXG4gIHVsIHtcbiAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgIHBhZGRpbmc6IDA7XG4gIH1cbiAgXG4gIGEge1xuICAgIGNvbG9yOiAjNmNiMmViO1xuICAgIGZvbnQtc2l6ZTogMS4yNXJlbTtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4xcyBlYXNlLWluO1xuICAgIG1hcmdpbi10b3A6IDAuNXJlbTtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuICBcbiAgYTpob3ZlciB7XG4gICAgY29sb3I6ICMzNDkwZGM7XG4gIH1cbiAgXG4gIGxpLFxuICBwIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgbGluZS1oZWlnaHQ6IDEuNzU7XG4gICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xuICAgIGNvbG9yOiAjM2Q0ODUyO1xuICAgIGZvbnQtc2l6ZTogMS4yNXJlbTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMXMgZWFzZS1pbjtcbiAgfVxuICBcbiAgbGk6aG92ZXIge1xuICAgIGNvbG9yOiAjMjIyOTJmO1xuICB9XG4gIFxuICBsaSBpbnB1dCB7XG4gICAgbWFyZ2luOiAwIDAuNXJlbSAwO1xuICB9XG4gIFxuICAjYXBwID4gaW5wdXQsXG4gICNhcHAgPiBzZWxlY3Qge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggMCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2YxZjVmODtcbiAgICBjb2xvcjogIzYwNmY3YjtcbiAgICBwYWRkaW5nOiAwLjVyZW0gMC43NXJlbTtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICBsZXR0ZXItc3BhY2luZzogMC41cHg7XG4gICAgbWFyZ2luOiAwLjVyZW0gMDtcbiAgfVxuICBcbiAgLmFkZC1pdGVtLWZvcm0sXG4gIC5oZWFkZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIH1cbiAgXG4gIC5hZGQtaXRlbS1mb3JtIGlucHV0IHtcbiAgICB3aWR0aDogNzAlO1xuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggMCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2YxZjVmODtcbiAgICBjb2xvcjogIzYwNmY3YjtcbiAgICBwYWRkaW5nOiAwLjVyZW0gMC43NXJlbTtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICBsZXR0ZXItc3BhY2luZzogMC41cHg7XG4gICAgbWFyZ2luOiAwLjVyZW0gMDtcbiAgfVxuICBcbiAgLmJ0biB7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICBtYXJnaW46IGF1dG8gMDtcbiAgICBwYWRkaW5nOiAwLjVyZW0gMC43NXJlbTtcbiAgICBmbGV4LXNocmluazogMDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgZm9udC1zaXplOiAwLjlyZW07XG4gICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjFzIGVhc2UtaW47XG4gIH1cbiAgXG4gIC5idG5bZGlzYWJsZWRdIHtcbiAgICBiYWNrZ3JvdW5kOiAjODc5NWExO1xuICB9XG4gIFxuICAuYnRuW2Rpc2FibGVkXTpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogIzYwNmY3YjtcbiAgfVxuICBcbiAgLmJ0bi1wcmltYXJ5IHtcbiAgICBiYWNrZ3JvdW5kOiAjNmNiMmViO1xuICAgIGNvbG9yOiAjZmZmO1xuICB9XG4gIFxuICAuYnRuLXByaW1hcnk6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6ICMzNDkwZGM7XG4gIH1cbiAgXG4gIC5idG4tY2FuY2VsIHtcbiAgICBiYWNrZ3JvdW5kOiAjZWY1NzUzO1xuICAgIGNvbG9yOiAjZmZmO1xuICB9XG4gIFxuICAuYnRuLWNhbmNlbDpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogI2UzMzQyZjtcbiAgICBjb2xvcjogI2ZmZjtcbiAgfVxuICBcbiAgLnN0cmlrZW91dCB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XG4gICAgY29sb3I6ICNiOGMyY2M7XG4gIH1cbiAgXG4gIC5zdHJpa2VvdXQ6aG92ZXIge1xuICAgIGNvbG9yOiAjODc5NWExO1xuICB9XG4gIFxuICAucHJpb3JpdHkge1xuICAgIGNvbG9yOiAjZGU3NTFmO1xuICB9XG4gIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXXtcbiAgICBkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudDtcbiAgICBib3gtc2hhZG93OiBub25lO1xuICAgIHdpZHRoOiBhdXRvO1xuICB9In0= -->

<script setup>
    import { ref, computed } from 'vue'
    
    const header = ref('Santa Mesa Warriors')
    
    const players = ref([
      {id: 30, name: 'Stephen Curry', isDrafted: true, isPriority: true},
      {id: 11, name: 'Klay Thompson', isDrafted: true, isPriority: true},
      {id: 3, name: 'Jordan Poole', isDrafted: true, isPriority: true},
      {id: 22, name: 'Andrew Wiggins', isDrafted: false, isPriority: true},
      {id: 23, name: 'Draymond Green', isDrafted: true, isPriority: true},
      {id: 33, name: 'James Wiseman', isDrafted: false, isPriority: false},
    ]);
      const newPlayer = ref('');
      const isPriority = ref(false);
      const editing = ref(false);
      const savePlayer = () => {
        players.value.push({
          id: players.value.length + 1, 
          name: newPlayer.value,
          isPriority: isPriority.value,
          isDrafted: true,
        })
        newPlayer.value = '';
        isPriority.value = '';
      }
      const doEdit = (e) => {
        editing.value = e;
        newPlayer.value = "";
      }
      
      const toggleDrafted = (item) => {
        item.isDrafted = !item.isDrafted;
      }
      
      const characterCount = computed(() => {
        return newPlayer.value.length;
      });
      
      const reversedPlayers = computed(() => [...players.value].reverse());
    </script>
    
    <template>
      <div class="header">
         <h1>{{ header }}</h1>
        <button class="btn btn-cancel" v-if="editing" @click="doEdit(false)">
          Cancel
        </button>
        <button class="btn btn-primary" v-else @click="doEdit(true)">
          Add Item
        </button>
      </div>
    
      <form v-if="editing" class="add-item-form" @submit.prevent="savePlayer"> 
        <input type="text" placeholder="Add a Player" v-model.trim="newPlayer">
        <p class="counter">
          {{characterCount}} / 200
        </p>
        <label>
            <input type="checkbox" v-model="isPriority" @keyup.enter>
                High Priority
        </label>
        <button class="btn btn-primary" :disabled="newPlayer.length < 5">
            Save Player
        </button>
      </form>
      <p v-if="players.length === 0">
        Nope
      </p>
      <ul v-else>
        <li 
            @click="toggleDrafted(reversedPlayers[idx])"
            v-for="({id, name, isDrafted, isPriority}, idx) in reversedPlayers" 
            v-bind:class="[
               {strikeout: !isDrafted}, 
               {priority: isPriority},
            ]"
            :key="id"
            >
          {{idx}}
          {{name}}
        </li>
      </ul>
    </template>